{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { SlideConfig } from 'src/app/models/slide-config.model';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"template\"];\nconst _c1 = [\"slideContainer\"];\nexport class SliderComponent {\n  onScreenResize() {\n    this.setUpSlider();\n  }\n  constructor() {\n    this.items = [];\n    this.dots = [];\n    this.activeSlideID = 1;\n    this.onSelect = new EventEmitter();\n    this.slideConfig = new SlideConfig();\n    this.sliderContainerWidth = 0;\n    this.slideWidth = 0;\n    this.elementsToShow = 1;\n    this.sliderWidth = 0;\n    this.sliderMarginLeft = 0;\n    this.isSlidesOver = false;\n  }\n  ngOnInit() {\n    console.log(this.dots);\n  }\n  getItems() {\n    return this.items;\n  }\n  ngAfterViewInit() {\n    this.setUpSlider();\n  }\n  setUpSlider() {\n    if (window.innerWidth < 500) this.elementsToShow = this.slideConfig.breakpoints.sm;else if (window.innerWidth < 900) this.elementsToShow = this.slideConfig.breakpoints.md;else if (window.innerWidth < 1300) this.elementsToShow = this.slideConfig.breakpoints.lg;else this.elementsToShow = this.slideConfig.breakpoints.xl;\n    if (this.items.length < this.elementsToShow) {\n      this.elementsToShow = this.items.length;\n    }\n    this.dots = Array(this.items.length - this.elementsToShow + 1);\n    let container = this.slideContainer.nativeElement;\n    this.sliderContainerWidth = container.clientWidth;\n    this.slideWidth = this.sliderContainerWidth / this.elementsToShow;\n    this.sliderWidth = this.slideWidth * this.items.length;\n    // console.log(this.sliderContainerWidth)\n    // console.log(this.sliderWidth)\n    // console.log(this.slideWidth)\n    if (this.slideConfig.autoPlay) this.autoPlay();\n  }\n  prev() {\n    console.log(this.sliderMarginLeft);\n    if (this.sliderMarginLeft === 0) {\n      return;\n    }\n    this.activeSlideID--;\n    this.sliderMarginLeft = this.sliderMarginLeft + this.slideWidth;\n  }\n  next() {\n    const notShowingElementsCount = this.items.length - this.elementsToShow;\n    const possibleMargin = -(notShowingElementsCount * this.slideWidth);\n    if (this.sliderMarginLeft <= possibleMargin) {\n      this.isSlidesOver = true;\n      return;\n    }\n    this.isSlidesOver = false;\n    this.activeSlideID++;\n    this.sliderMarginLeft = this.sliderMarginLeft - this.slideWidth;\n  }\n  move(slideID) {\n    console.log(\"Slide ID\" + slideID);\n    console.log(\"activeSlideID\" + this.activeSlideID);\n    let difference = slideID - this.activeSlideID;\n    if (difference > 0) {\n      // Next\n      for (let index = 0; index < difference; index++) {\n        this.next();\n      }\n    } else if (difference < 0) {\n      //prev\n      for (let index = 0; index < Math.abs(difference); index++) {\n        this.prev();\n      }\n    }\n  }\n  autoPlay() {\n    setTimeout(() => {\n      if (this.isSlidesOver === true) {\n        this.sliderMarginLeft = this.slideWidth;\n      }\n      this.next();\n      this.autoPlay();\n    }, 1000);\n  }\n  static #_ = this.ɵfac = function SliderComponent_Factory(t) {\n    return new (t || SliderComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SliderComponent,\n    selectors: [[\"app-slider\"]],\n    contentQueries: function SliderComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, _c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.template = _t.first);\n      }\n    },\n    viewQuery: function SliderComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.slideContainer = _t.first);\n      }\n    },\n    hostBindings: function SliderComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"resize\", function SliderComponent_resize_HostBindingHandler($event) {\n          return ctx.onScreenResize($event);\n        }, false, i0.ɵɵresolveWindow);\n      }\n    },\n    inputs: {\n      items: \"items\",\n      slideConfig: \"slideConfig\"\n    },\n    outputs: {\n      onSelect: \"select\"\n    },\n    decls: 2,\n    vars: 0,\n    template: function SliderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"slider works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","SlideConfig","SliderComponent","onScreenResize","setUpSlider","constructor","items","dots","activeSlideID","onSelect","slideConfig","sliderContainerWidth","slideWidth","elementsToShow","sliderWidth","sliderMarginLeft","isSlidesOver","ngOnInit","console","log","getItems","ngAfterViewInit","window","innerWidth","breakpoints","sm","md","lg","xl","length","Array","container","slideContainer","nativeElement","clientWidth","autoPlay","prev","next","notShowingElementsCount","possibleMargin","move","slideID","difference","index","Math","abs","setTimeout","_","_2","selectors","contentQueries","SliderComponent_ContentQueries","rf","ctx","dirIndex","$event","i0","ɵɵresolveWindow","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["E:\\Angular-Project\\src\\app\\shared\\slider\\slider.component.ts","E:\\Angular-Project\\src\\app\\shared\\slider\\slider.component.html"],"sourcesContent":["import { AfterViewInit, Component, ContentChild, ElementRef, EventEmitter, HostListener, Input, OnChanges, OnInit, Output, TemplateRef, ViewChild } from '@angular/core';\nimport { Client } from 'src/app/models/client.model';\nimport { Course } from 'src/app/models/course.model';\nimport { Feedback } from 'src/app/models/feedback.model';\nimport { SlideConfig } from 'src/app/models/slide-config.model';\n\n@Component({\n  selector: 'app-slider',\n  templateUrl: './slider.component.html',\n  styleUrls: ['./slider.component.css']\n})\nexport class SliderComponent implements OnInit, AfterViewInit {\n\n  @Input('items')\n  items: string[] | Feedback[] | Client[] = [];\n\n  dots: number[] = [];\n  activeSlideID = 1;\n\n  @ContentChild('template')\n  template: TemplateRef<any> | undefined;\n\n  @Output('select')\n  onSelect: EventEmitter<string> = new EventEmitter<string>()\n\n  @ViewChild('slideContainer')\n  slideContainer!: ElementRef;\n\n  @Input('slideConfig')\n  slideConfig = new SlideConfig();\n\n  sliderContainerWidth = 0;\n  slideWidth = 0;\n  elementsToShow = 1;\n  sliderWidth = 0;\n\n  sliderMarginLeft = 0;\n\n  isSlidesOver = false;\n\n  @HostListener('window:resize', ['$event'])\n  onScreenResize() {\n    this.setUpSlider()\n  }\n\n  constructor() { }\n\n  ngOnInit(): void {\n\n    console.log(this.dots)\n  }\n\n  getItems() {\n    return this.items as any[]\n  }\n\n  ngAfterViewInit(): void {\n    this.setUpSlider()\n  }\n\n  setUpSlider() {\n    if (window.innerWidth < 500)\n      this.elementsToShow = this.slideConfig.breakpoints.sm;\n    else if (window.innerWidth < 900)\n      this.elementsToShow = this.slideConfig.breakpoints.md;\n    else if (window.innerWidth < 1300)\n      this.elementsToShow = this.slideConfig.breakpoints.lg;\n    else\n      this.elementsToShow = this.slideConfig.breakpoints.xl;\n\n    if (this.items.length < this.elementsToShow) {\n      this.elementsToShow = this.items.length;\n    }\n\n    this.dots = Array(this.items.length - this.elementsToShow + 1);\n\n    let container = this.slideContainer.nativeElement as HTMLElement;\n\n    this.sliderContainerWidth = container.clientWidth;\n    this.slideWidth = this.sliderContainerWidth / this.elementsToShow;\n    this.sliderWidth = this.slideWidth * this.items.length;\n\n    // console.log(this.sliderContainerWidth)\n    // console.log(this.sliderWidth)\n    // console.log(this.slideWidth)\n\n    if(this.slideConfig.autoPlay) this.autoPlay()\n  }\n\n  prev() {\n    console.log(this.sliderMarginLeft)\n    if (this.sliderMarginLeft === 0) {\n      return\n    }\n    this.activeSlideID--;\n    this.sliderMarginLeft = this.sliderMarginLeft + this.slideWidth;\n  }\n\n  next() {\n    const notShowingElementsCount = this.items.length - this.elementsToShow;\n    const possibleMargin = -(notShowingElementsCount * this.slideWidth);\n    if (this.sliderMarginLeft <= possibleMargin) {\n      this.isSlidesOver = true;\n      return\n    }\n    this.isSlidesOver = false;\n    this.activeSlideID++;\n    this.sliderMarginLeft = this.sliderMarginLeft - this.slideWidth;\n  }\n\n  move(slideID: number) {\n    console.log(\"Slide ID\" + slideID)\n    console.log(\"activeSlideID\" + this.activeSlideID)\n    let difference = slideID - this.activeSlideID;\n    if (difference > 0) {\n      // Next\n      for (let index = 0; index < difference; index++) {\n        this.next()\n      }\n    } else if (difference < 0) {\n      //prev\n      for (let index = 0; index < Math.abs(difference); index++) {\n        this.prev()\n      }\n    }\n  }\n\n  autoPlay(){\n    setTimeout(() => {\n      if(this.isSlidesOver === true){\n        this.sliderMarginLeft = this.slideWidth;\n      }\n      this.next()\n      this.autoPlay()\n    }, 1000);\n  }\n}\n","<p>slider works!</p>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}